<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√çndice Internacional de Funci√≥n Er√©ctil (IIEF-15)</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #29A98C 0%, #112F33 100%);
            min-height: 100vh;
            color: #333;
            overflow-x: hidden;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            display: none;
            min-height: 500px;
            position: relative;
        }

        .card.active {
            display: block;
            animation: fadeIn 0.3s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card h1 {
            background: linear-gradient(135deg, #29A98C, #112F33);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 20px;
            text-align: center;
        }

        .card h2 {
            background: linear-gradient(135deg, #29A98C, #112F33);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 22px;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .instructions {
            background: rgba(41, 169, 140, 0.1);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            border-left: 4px solid #29A98C;
        }

        .question-number {
            background: linear-gradient(135deg, #29A98C, #112F33);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            margin-bottom: 15px;
            display: inline-block;
        }

        .question-text {
            font-size: 18px;
            margin-bottom: 20px;
            line-height: 1.6;
            color: #112F33;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            background: rgba(255, 255, 255, 0.8);
            border: 2px solid rgba(41, 169, 140, 0.3);
            border-radius: 12px;
            padding: 15px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
            display: flex;
            align-items: center;
        }

        .option:hover {
            background: rgba(41, 169, 140, 0.1);
            border-color: #29A98C;
            transform: translateX(5px);
        }

        .option.selected {
            background: linear-gradient(135deg, #29A98C, #112F33);
            color: white;
            border-color: #29A98C;
            transform: scale(1.02);
        }

        .back-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(135deg, #29A98C, #112F33);
            color: white;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            cursor: pointer;
            font-size: 24px;
            box-shadow: 0 4px 20px rgba(41, 169, 140, 0.4);
            transition: all 0.3s ease;
            display: none;
        }

        .back-button:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 25px rgba(41, 169, 140, 0.6);
        }

        .back-button.show {
            display: block;
        }

        .progress-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            height: 6px;
            background: linear-gradient(90deg, #29A98C, #112F33);
            transition: width 0.3s ease;
            z-index: 1000;
        }

        .btn {
            background: linear-gradient(135deg, #29A98C, #112F33);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 15px 30px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px 5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(41, 169, 140, 0.4);
        }

        .results-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .domain-result {
            background: rgba(41, 169, 140, 0.1);
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid #29A98C;
        }

        .domain-title {
            font-weight: bold;
            color: #112F33;
            margin-bottom: 8px;
        }

        .domain-score {
            font-size: 18px;
            font-weight: bold;
            color: #29A98C;
        }

        .interpretation {
            background: rgba(255, 255, 255, 0.9);
            padding: 25px;
            border-radius: 12px;
            margin: 20px 0;
            border: 2px solid #29A98C;
        }

        .severity-severe { border-left: 4px solid #f56565; }
        .severity-moderate { border-left: 4px solid #f6ad55; }
        .severity-mild-moderate { border-left: 4px solid #ed8936; }
        .severity-mild { border-left: 4px solid #48bb78; }
        .severity-normal { border-left: 4px solid #29A98C; }

        .alert-item {
            background: rgba(245, 101, 101, 0.1);
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border-left: 4px solid #f56565;
        }

        .buttons-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 25px;
        }

        @media (max-width: 600px) {
            .container { padding: 10px; }
            .card { padding: 25px; margin: 10px; }
            .card h1 { font-size: 24px; }
            .question-text { font-size: 16px; }
            .option { padding: 12px 15px; font-size: 14px; }
            .buttons-container { flex-direction: column; }
            .btn { width: 100%; margin: 5px 0; }
        }
    </style>
</head>
<body>
    <!-- Card 0: Bienvenida -->
    <div class="container">
        <div class="card active" id="card-0">
            <h1>√çndice Internacional de Funci√≥n Er√©ctil (IIEF-15)</h1>
            <div class="instructions">
                <h3 style="color: #29A98C; margin-bottom: 15px;">Instrucciones importantes:</h3>
                <p style="margin-bottom: 10px;"><strong>Marco temporal:</strong> Todas las preguntas se refieren a las <strong>√∫ltimas 4 semanas</strong> de actividad sexual.</p>
                <p style="margin-bottom: 10px;"><strong>Confidencialidad:</strong> Sus respuestas son completamente confidenciales y ser√°n utilizadas √∫nicamente para su evaluaci√≥n cl√≠nica.</p>
                <p style="margin-bottom: 10px;"><strong>Honestidad:</strong> Por favor, responda con sinceridad para obtener una evaluaci√≥n precisa de su funci√≥n sexual.</p>
                <p style="margin-bottom: 10px;"><strong>Completitud:</strong> Es importante responder todas las preguntas. Si no ha tenido actividad sexual, seleccione "Sin actividad sexual" o "No lo intent√©" seg√∫n corresponda.</p>
                <p><strong>Tiempo estimado:</strong> Aproximadamente 5-8 minutos.</p>
            </div>
            <p style="text-align: center; margin-bottom: 25px; font-size: 16px; color: #112F33;">
                Este cuestionario eval√∫a cinco dominios de la funci√≥n sexual masculina: funci√≥n er√©ctil, funci√≥n org√°smica, deseo sexual, satisfacci√≥n con la relaci√≥n sexual y satisfacci√≥n global.
            </p>
            <div style="text-align: center;">
                <button class="btn" onclick="nextCard()">Continuar</button>
            </div>
        </div>

        <!-- Card Definiciones -->
        <div class="card" id="card-definitions">
            <h1>Definiciones Importantes</h1>
            <div class="instructions">
                <h3 style="color: #29A98C; margin-bottom: 15px;">Antes de comenzar, es importante conocer estas definiciones:</h3>
                
                <div style="margin-bottom: 15px;">
                    <strong style="color: #29A98C;">Actividad sexual:</strong> Incluye la relaci√≥n sexual, caricias, juegos previos y masturbaci√≥n.
                </div>
                
                <div style="margin-bottom: 15px;">
                    <strong style="color: #29A98C;">Deseo sexual:</strong> Sensaci√≥n que puede ser un deseo de tener una experiencia sexual (p. ej., masturbaci√≥n o relaci√≥n sexual), un pensamiento sobre una relaci√≥n sexual o un sentimiento de frustraci√≥n por no tener una relaci√≥n sexual.
                </div>
                
                <div style="margin-bottom: 15px;">
                    <strong style="color: #29A98C;">Relaci√≥n sexual:</strong> Se define como la penetraci√≥n de la pareja.
                </div>
                
                <div style="margin-bottom: 15px;">
                    <strong style="color: #29A98C;">Estimulaci√≥n sexual:</strong> Incluye situaciones como el juego previo con la pareja, la estimulaci√≥n visual mediante im√°genes er√≥ticas, etc.
                </div>
                
                <div style="margin-bottom: 15px;">
                    <strong style="color: #29A98C;">Eyaculaci√≥n:</strong> La expulsi√≥n de semen del pene (o la sensaci√≥n que produce).
                </div>
            </div>
            <p style="text-align: center; margin-bottom: 25px; font-size: 16px; color: #112F33;">
                Mantenga estas definiciones en mente mientras responde las preguntas.
            </p>
            <div style="text-align: center;">
                <button class="btn" onclick="nextCard()">Comenzar Evaluaci√≥n</button>
            </div>
        </div>

        <!-- Cards 1-15: Preguntas -->
        <div class="card" id="card-1">
            <div class="question-number">Pregunta 1 de 15</div>
            <div class="question-text">Durante las √∫ltimas 4 semanas, ¬øcon qu√© frecuencia pudo lograr una erecci√≥n durante la actividad sexual?</div>
            <div class="options">
                <div class="option" onclick="selectOption(1, 0)">
                    <div>Sin actividad sexual</div>
                </div>
                <div class="option" onclick="selectOption(1, 1)">
                    <div>Casi nunca o nunca</div>
                </div>
                <div class="option" onclick="selectOption(1, 2)">
                    <div>Pocas veces (menos de la mitad de las veces)</div>
                </div>
                <div class="option" onclick="selectOption(1, 3)">
                    <div>Algunas veces (aproximadamente la mitad de las veces)</div>
                </div>
                <div class="option" onclick="selectOption(1, 4)">
                    <div>La mayor√≠a de las veces (m√°s de la mitad de las veces)</div>
                </div>
                <div class="option" onclick="selectOption(1, 5)">
                    <div>Casi siempre o siempre</div>
                </div>
            </div>
        </div>

        <div class="card" id="card-2">
            <div class="question-number">Pregunta 2 de 15</div>
            <div class="question-text">Durante las √∫ltimas 4 semanas, cuando tuvo erecciones con estimulaci√≥n sexual, ¬øcon qu√© frecuencia fueron sus erecciones lo suficientemente duras para la penetraci√≥n?</div>
            <div class="options">
                <div class="option" onclick="selectOption(2, 0)">
                    <div>Sin actividad sexual</div>
                </div>
                <div class="option" onclick="selectOption(2, 1)">
                    <div>Casi nunca o nunca</div>
                </div>
                <div class="option" onclick="selectOption(2, 2)">
                    <div>Pocas veces (menos de la mitad de las veces)</div>
                </div>
                <div class="option" onclick="selectOption(2, 3)">
                    <div>Algunas veces (aproximadamente la mitad de las veces)</div>
                </div>
                <div class="option" onclick="selectOption(2, 4)">
                    <div>La mayor√≠a de las veces (m√°s de la mitad de las veces)</div>
                </div>
                <div class="option" onclick="selectOption(2, 5)">
                    <div>Casi siempre o siempre</div>
                </div>
            </div>
        </div>

        <div class="card" id="card-3">
            <div class="question-number">Pregunta 3 de 15</div>
            <div class="question-text">Durante las √∫ltimas 4 semanas, cuando intent√≥ tener relaciones sexuales, ¬øcon qu√© frecuencia pudo penetrar (entrar) a su pareja?</div>
            <div class="options">
                <div class="option" onclick="selectOption(3, 0)">
                    <div>No intent√© tener relaciones sexuales</div>
                </div>
                <div class="option" onclick="selectOption(3, 1)">
                    <div>Casi nunca o nunca</div>
                </div>
                <div class="option" onclick="selectOption(3, 2)">
                    <div>Pocas veces (menos de la mitad de las veces)</div>
                </div>
                <div class="option" onclick="selectOption(3, 3)">
                    <div>Algunas veces (aproximadamente la mitad de las veces)</div>
                </div>
                <div class="option" onclick="selectOption(3, 4)">
                    <div>La mayor√≠a de las veces (m√°s de la mitad de las veces)</div>
                </div>
                <div class="option" onclick="selectOption(3, 5)">
                    <div>Casi siempre o siempre</div>
                </div>
            </div>
        </div>

        <div class="card" id="card-4">
            <div class="question-number">Pregunta 4 de 15</div>
            <div class="question-text">Durante las √∫ltimas 4 semanas, durante las relaciones sexuales, ¬øcon qu√© frecuencia pudo mantener su erecci√≥n despu√©s de haber penetrado (entrado) a su pareja?</div>
            <div class="options">
                <div class="option" onclick="selectOption(4, 0)">
                    <div>No intent√© tener relaciones sexuales</div>
                </div>
                <div class="option" onclick="selectOption(4, 1)">
                    <div>Casi nunca o nunca</div>
                </div>
                <div class="option" onclick="selectOption(4, 2)">
                    <div>Pocas veces (menos de la mitad de las veces)</div>
                </div>
                <div class="option" onclick="selectOption(4, 3)">
                    <div>Algunas veces (aproximadamente la mitad de las veces)</div>
                </div>
                <div class="option" onclick="selectOption(4, 4)">
                    <div>La mayor√≠a de las veces (m√°s de la mitad de las veces)</div>
                </div>
                <div class="option" onclick="selectOption(4, 5)">
                    <div>Casi siempre o siempre</div>
                </div>
            </div>
        </div>

        <div class="card" id="card-5">
            <div class="question-number">Pregunta 5 de 15</div>
            <div class="question-text">Durante las √∫ltimas 4 semanas, durante las relaciones sexuales, ¬øqu√© tan dif√≠cil fue mantener su erecci√≥n hasta completar la relaci√≥n sexual?</div>
            <div class="options">
                <div class="option" onclick="selectOption(5, 0)">
                    <div>No intent√© tener relaciones sexuales</div>
                </div>
                <div class="option" onclick="selectOption(5, 1)">
                    <div>Extremadamente dif√≠cil</div>
                </div>
                <div class="option" onclick="selectOption(5, 2)">
                    <div>Muy dif√≠cil</div>
                </div>
                <div class="option" onclick="selectOption(5, 3)">
                    <div>Dif√≠cil</div>
                </div>
                <div class="option" onclick="selectOption(5, 4)">
                    <div>Ligeramente dif√≠cil</div>
                </div>
                <div class="option" onclick="selectOption(5, 5)">
                    <div>No fue dif√≠cil</div>
                </div>
            </div>
        </div>

        <div class="card" id="card-6">
            <div class="question-number">Pregunta 6 de 15</div>
            <div class="question-text">Durante las √∫ltimas 4 semanas, ¬øcu√°ntas veces intent√≥ tener relaciones sexuales?</div>
            <div class="options">
                <div class="option" onclick="selectOption(6, 0)">
                    <div>No lo intent√©</div>
                </div>
                <div class="option" onclick="selectOption(6, 1)">
                    <div>Uno a dos intentos</div>
                </div>
                <div class="option" onclick="selectOption(6, 2)">
                    <div>Tres a cuatro intentos</div>
                </div>
                <div class="option" onclick="selectOption(6, 3)">
                    <div>Cinco a seis intentos</div>
                </div>
                <div class="option" onclick="selectOption(6, 4)">
                    <div>Siete a diez intentos</div>
                </div>
                <div class="option" onclick="selectOption(6, 5)">
                    <div>Once o m√°s intentos</div>
                </div>
            </div>
        </div>

        <div class="card" id="card-7">
            <div class="question-number">Pregunta 7 de 15</div>
            <div class="question-text">Durante las √∫ltimas 4 semanas, cuando intent√≥ tener relaciones sexuales, ¬øcon qu√© frecuencia fueron satisfactorias para usted?</div>
            <div class="options">
                <div class="option" onclick="selectOption(7, 0)">
                    <div>No intent√© tener relaciones sexuales</div>
                </div>
                <div class="option" onclick="selectOption(7, 1)">
                    <div>Casi nunca o nunca</div>
                </div>
                <div class="option" onclick="selectOption(7, 2)">
                    <div>Pocas veces (menos de la mitad de las veces)</div>
                </div>
                <div class="option" onclick="selectOption(7, 3)">
                    <div>Algunas veces (aproximadamente la mitad de las veces)</div>
                </div>
                <div class="option" onclick="selectOption(7, 4)">
                    <div>La mayor√≠a de las veces (m√°s de la mitad de las veces)</div>
                </div>
                <div class="option" onclick="selectOption(7, 5)">
                    <div>Casi siempre o siempre</div>
                </div>
            </div>
        </div>

        <div class="card" id="card-8">
            <div class="question-number">Pregunta 8 de 15</div>
            <div class="question-text">Durante las √∫ltimas 4 semanas, ¬øcu√°nto disfrut√≥ las relaciones sexuales?</div>
            <div class="options">
                <div class="option" onclick="selectOption(8, 0)">
                    <div>No tuve relaciones sexuales</div>
                </div>
                <div class="option" onclick="selectOption(8, 1)">
                    <div>No las disfrut√© para nada</div>
                </div>
                <div class="option" onclick="selectOption(8, 2)">
                    <div>No muy placentero</div>
                </div>
                <div class="option" onclick="selectOption(8, 3)">
                    <div>Bastante placentero</div>
                </div>
                <div class="option" onclick="selectOption(8, 4)">
                    <div>Muy placentero</div>
                </div>
                <div class="option" onclick="selectOption(8, 5)">
                    <div>Extremadamente placentero</div>
                </div>
            </div>
        </div>

        <div class="card" id="card-9">
            <div class="question-number">Pregunta 9 de 15</div>
            <div class="question-text">Durante las √∫ltimas 4 semanas, cuando tuvo estimulaci√≥n sexual o relaciones sexuales, ¬øcon qu√© frecuencia eyacul√≥?</div>
            <div class="options">
                <div class="option" onclick="selectOption(9, 0)">
                    <div>Sin estimulaci√≥n sexual o relaciones sexuales</div>
                </div>
                <div class="option" onclick="selectOption(9, 1)">
                    <div>Casi nunca o nunca</div>
                </div>
                <div class="option" onclick="selectOption(9, 2)">
                    <div>Pocas veces (menos de la mitad de las veces)</div>
                </div>
                <div class="option" onclick="selectOption(9, 3)">
                    <div>Algunas veces (aproximadamente la mitad de las veces)</div>
                </div>
                <div class="option" onclick="selectOption(9, 4)">
                    <div>La mayor√≠a de las veces (m√°s de la mitad de las veces)</div>
                </div>
                <div class="option" onclick="selectOption(9, 5)">
                    <div>Casi siempre o siempre</div>
                </div>
            </div>
        </div>

        <div class="card" id="card-10">
            <div class="question-number">Pregunta 10 de 15</div>
            <div class="question-text">Durante las √∫ltimas 4 semanas, cuando tuvo estimulaci√≥n sexual o relaciones sexuales, ¬øcon qu√© frecuencia tuvo la sensaci√≥n de orgasmo o cl√≠max?</div>
            <div class="options">
                <div class="option" onclick="selectOption(10, 0)">
                    <div>Sin estimulaci√≥n sexual o relaciones sexuales</div>
                </div>
                <div class="option" onclick="selectOption(10, 1)">
                    <div>Casi nunca o nunca</div>
                </div>
                <div class="option" onclick="selectOption(10, 2)">
                    <div>Pocas veces (menos de la mitad de las veces)</div>
                </div>
                <div class="option" onclick="selectOption(10, 3)">
                    <div>Algunas veces (aproximadamente la mitad de las veces)</div>
                </div>
                <div class="option" onclick="selectOption(10, 4)">
                    <div>La mayor√≠a de las veces (m√°s de la mitad de las veces)</div>
                </div>
                <div class="option" onclick="selectOption(10, 5)">
                    <div>Casi siempre o siempre</div>
                </div>
            </div>
        </div>

        <div class="card" id="card-11">
            <div class="question-number">Pregunta 11 de 15</div>
            <div class="question-text">Durante las √∫ltimas 4 semanas, ¬øcon qu√© frecuencia sinti√≥ deseo sexual?</div>
            <div class="options">
                <div class="option" onclick="selectOption(11, 1)">
                    <div>Casi nunca o nunca</div>
                </div>
                <div class="option" onclick="selectOption(11, 2)">
                    <div>Pocas veces (menos de la mitad de las veces)</div>
                </div>
                <div class="option" onclick="selectOption(11, 3)">
                    <div>Algunas veces (aproximadamente la mitad de las veces)</div>
                </div>
                <div class="option" onclick="selectOption(11, 4)">
                    <div>La mayor√≠a de las veces (m√°s de la mitad de las veces)</div>
                </div>
                <div class="option" onclick="selectOption(11, 5)">
                    <div>Casi siempre o siempre</div>
                </div>
            </div>
        </div>

        <div class="card" id="card-12">
            <div class="question-number">Pregunta 12 de 15</div>
            <div class="question-text">Durante las √∫ltimas 4 semanas, ¬øc√≥mo calificar√≠a su nivel de deseo sexual?</div>
            <div class="options">
                <div class="option" onclick="selectOption(12, 1)">
                    <div>Muy bajo o inexistente</div>
                </div>
                <div class="option" onclick="selectOption(12, 2)">
                    <div>Bajo</div>
                </div>
                <div class="option" onclick="selectOption(12, 3)">
                    <div>Moderado</div>
                </div>
                <div class="option" onclick="selectOption(12, 4)">
                    <div>Alto</div>
                </div>
                <div class="option" onclick="selectOption(12, 5)">
                    <div>Muy alto</div>
                </div>
            </div>
        </div>

        <div class="card" id="card-13">
            <div class="question-number">Pregunta 13 de 15</div>
            <div class="question-text">Durante las √∫ltimas 4 semanas, ¬øqu√© tan satisfecho ha estado con su vida sexual en general?</div>
            <div class="options">
                <div class="option" onclick="selectOption(13, 1)">
                    <div>Muy insatisfecho</div>
                </div>
                <div class="option" onclick="selectOption(13, 2)">
                    <div>Moderadamente insatisfecho</div>
                </div>
                <div class="option" onclick="selectOption(13, 3)">
                    <div>Igualmente satisfecho e insatisfecho</div>
                </div>
                <div class="option" onclick="selectOption(13, 4)">
                    <div>Moderadamente satisfecho</div>
                </div>
                <div class="option" onclick="selectOption(13, 5)">
                    <div>Muy satisfecho</div>
                </div>
            </div>
        </div>

        <div class="card" id="card-14">
            <div class="question-number">Pregunta 14 de 15</div>
            <div class="question-text">Durante las √∫ltimas 4 semanas, ¬øqu√© tan satisfecho ha estado con su relaci√≥n sexual con su pareja?</div>
            <div class="options">
                <div class="option" onclick="selectOption(14, 1)">
                    <div>Muy insatisfecho</div>
                </div>
                <div class="option" onclick="selectOption(14, 2)">
                    <div>Moderadamente insatisfecho</div>
                </div>
                <div class="option" onclick="selectOption(14, 3)">
                    <div>Igualmente satisfecho e insatisfecho</div>
                </div>
                <div class="option" onclick="selectOption(14, 4)">
                    <div>Moderadamente satisfecho</div>
                </div>
                <div class="option" onclick="selectOption(14, 5)">
                    <div>Muy satisfecho</div>
                </div>
            </div>
        </div>

        <div class="card" id="card-15">
            <div class="question-number">Pregunta 15 de 15</div>
            <div class="question-text">Durante las √∫ltimas 4 semanas, ¬øc√≥mo calificar√≠a la confianza que tiene en poder lograr y mantener una erecci√≥n?</div>
            <div class="options">
                <div class="option" onclick="selectOption(15, 1)">
                    <div>Muy baja</div>
                </div>
                <div class="option" onclick="selectOption(15, 2)">
                    <div>Baja</div>
                </div>
                <div class="option" onclick="selectOption(15, 3)">
                    <div>Moderada</div>
                </div>
                <div class="option" onclick="selectOption(15, 4)">
                    <div>Alta</div>
                </div>
                <div class="option" onclick="selectOption(15, 5)">
                    <div>Muy alta</div>
                </div>
            </div>
        </div>

        <!-- Card Final -->
        <div class="card" id="card-final">
            <h1>Evaluaci√≥n Completada</h1>
            <div style="text-align: center; padding: 40px;">
                <h2 style="margin-bottom: 20px;">¬°Muchas gracias!</h2>
                <p style="font-size: 18px; margin-bottom: 30px; line-height: 1.6;">
                    Ha completado exitosamente el √çndice Internacional de Funci√≥n Er√©ctil (IIEF-15).
                </p>
                <p style="font-size: 16px; margin-bottom: 30px; color: #112F33;">
                    Por favor, pase el dispositivo a su m√©dico o profesional de la salud para la revisi√≥n de los resultados.
                </p>
                <button class="btn" onclick="showResults()">Revisar Resultados (M√©dico)</button>
            </div>
        </div>

        <!-- Card Resultados -->
        <div class="card" id="card-results">
            <h1>Resultados del IIEF-15</h1>
            <div class="results-content">
                <div class="results-grid">
                    <div class="domain-result">
                        <div class="domain-title">Funci√≥n Er√©ctil (Q1-5, Q15)</div>
                        <div class="domain-score" id="erectile-score">--/30</div>
                    </div>
                    <div class="domain-result">
                        <div class="domain-title">Funci√≥n Org√°smica (Q9-10)</div>
                        <div class="domain-score" id="orgasmic-score">--/10</div>
                    </div>
                    <div class="domain-result">
                        <div class="domain-title">Deseo Sexual (Q11-12)</div>
                        <div class="domain-score" id="desire-score">--/10</div>
                    </div>
                    <div class="domain-result">
                        <div class="domain-title">Satisfacci√≥n Relaci√≥n Sexual (Q6-8)</div>
                        <div class="domain-score" id="intercourse-score">--/15</div>
                    </div>
                    <div class="domain-result">
                        <div class="domain-title">Satisfacci√≥n Global (Q13-14)</div>
                        <div class="domain-score" id="global-score">--/10</div>
                    </div>
                    <div class="domain-result" style="border-left: 4px solid #29A98C; background: rgba(41, 169, 140, 0.2);">
                        <div class="domain-title"><strong>Puntuaci√≥n Total IIEF</strong></div>
                        <div class="domain-score" id="total-score" style="font-size: 24px;">--/75</div>
                    </div>
                </div>

                <div class="interpretation" id="interpretation">
                    <!-- Interpretaci√≥n ser√° generada din√°micamente -->
                </div>

                <div id="alerts-section" style="display: none;">
                    <h3 style="color: #f56565; margin-bottom: 15px;">‚ö†Ô∏è Alertas Cl√≠nicas</h3>
                    <div id="alerts-content"></div>
                </div>

                <div class="buttons-container">
                    <button class="btn" onclick="exportToPDF()">üìÑ Exportar a PDF</button>
                    <button class="btn" onclick="captureResults()">üì∑ Capturar Pantalla</button>
                    <button class="btn" onclick="newEvaluation()">üîÑ Nueva Evaluaci√≥n</button>
                </div>
            </div>
        </div>
    </div>

    <button class="back-button" id="backButton" onclick="previousCard()">‚Üê</button>
    <div class="progress-bar" id="progressBar"></div>

    <script>
        let currentCard = 0;
        let responses = {};
        const totalQuestions = 15;

        function updateUI() {
            // Ocultar todas las cards
            document.querySelectorAll('.card').forEach(card => {
                card.classList.remove('active');
            });

            // Mostrar card actual
            if (currentCard === 'definitions') {
                document.getElementById('card-definitions').classList.add('active');
            } else {
                document.getElementById(`card-${currentCard}`).classList.add('active');
            }

            // Actualizar bot√≥n de regresar
            const backButton = document.getElementById('backButton');
            if ((currentCard > 0 || currentCard === 'definitions') && currentCard !== 'final' && currentCard !== 'results') {
                backButton.classList.add('show');
            } else {
                backButton.classList.remove('show');
            }

            // Actualizar barra de progreso
            let progress = 0;
            if (currentCard === 'final') {
                progress = 100;
            } else if (currentCard === 'results') {
                progress = 100;
            } else if (currentCard === 'definitions') {
                progress = 5;
            } else if (currentCard > 0) {
                progress = 5 + ((Object.keys(responses).length) / totalQuestions) * 95;
            }
            document.getElementById('progressBar').style.width = progress + '%';
        }

        function nextCard() {
            if (currentCard === 0) {
                currentCard = 'definitions';
            } else if (currentCard === 'definitions') {
                currentCard = 1;
            } else if (currentCard < totalQuestions) {
                currentCard++;
            } else if (currentCard === totalQuestions) {
                currentCard = 'final';
            }
            updateUI();
        }

        function previousCard() {
            if (currentCard === 1) {
                currentCard = 'definitions';
            } else if (currentCard === 'definitions') {
                currentCard = 0;
            } else if (currentCard > 1) {
                currentCard--;
            }
            updateUI();
        }

        function selectOption(questionNumber, value) {
            // Marcar opci√≥n seleccionada visualmente
            const card = document.getElementById(`card-${questionNumber}`);
            const options = card.querySelectorAll('.option');
            options.forEach(option => option.classList.remove('selected'));
            event.currentTarget.classList.add('selected');

            // Guardar respuesta
            responses[questionNumber] = value;

            // Auto-avanzar despu√©s de 150ms
            setTimeout(() => {
                if (questionNumber < totalQuestions) {
                    currentCard++;
                } else {
                    currentCard = 'final';
                }
                updateUI();
            }, 150);
        }

        function calculateScore() {
            const scores = {
                erectile: 0,     // Q1-5, Q15
                orgasmic: 0,     // Q9-10
                desire: 0,       // Q11-12
                intercourse: 0,  // Q6-8
                global: 0        // Q13-14
            };

            // Funci√≥n Er√©ctil (Q1-5, Q15)
            [1, 2, 3, 4, 5, 15].forEach(q => {
                if (responses[q] !== undefined) {
                    scores.erectile += responses[q];
                }
            });

            // Funci√≥n Org√°smica (Q9-10)
            [9, 10].forEach(q => {
                if (responses[q] !== undefined) {
                    scores.orgasmic += responses[q];
                }
            });

            // Deseo Sexual (Q11-12)
            [11, 12].forEach(q => {
                if (responses[q] !== undefined) {
                    scores.desire += responses[q];
                }
            });

            // Satisfacci√≥n Relaci√≥n Sexual (Q6-8)
            [6, 7, 8].forEach(q => {
                if (responses[q] !== undefined) {
                    scores.intercourse += responses[q];
                }
            });

            // Satisfacci√≥n Global (Q13-14)
            [13, 14].forEach(q => {
                if (responses[q] !== undefined) {
                    scores.global += responses[q];
                }
            });

            scores.total = scores.erectile + scores.orgasmic + scores.desire + scores.intercourse + scores.global;

            return scores;
        }

        function getInterpretation(scores) {
            const interpretations = {
                erectile: {
                    title: "Funci√≥n Er√©ctil",
                    ranges: [
                        { min: 26, max: 30, level: "Sin disfunci√≥n er√©ctil", severity: "normal" },
                        { min: 22, max: 25, level: "Disfunci√≥n er√©ctil leve", severity: "mild" },
                        { min: 17, max: 21, level: "Disfunci√≥n er√©ctil leve-moderada", severity: "mild-moderate" },
                        { min: 11, max: 16, level: "Disfunci√≥n er√©ctil moderada", severity: "moderate" },
                        { min: 0, max: 10, level: "Disfunci√≥n er√©ctil severa", severity: "severe" }
                    ]
                },
                total: {
                    title: "Puntuaci√≥n Total IIEF",
                    ranges: [
                        { min: 55, max: 75, level: "Funci√≥n sexual normal", severity: "normal" },
                        { min: 44, max: 54, level: "Disfunci√≥n sexual leve", severity: "mild" },
                        { min: 37, max: 43, level: "Disfunci√≥n sexual leve-moderada", severity: "mild-moderate" },
                        { min: 22, max: 36, level: "Disfunci√≥n sexual moderada", severity: "moderate" },
                        { min: 5, max: 21, level: "Disfunci√≥n sexual severa", severity: "severe" }
                    ]
                }
            };

            function findRange(score, ranges) {
                return ranges.find(range => score >= range.min && score <= range.max) || 
                       { level: "No clasificado", severity: "normal" };
            }

            const erectileInterpretation = findRange(scores.erectile, interpretations.erectile.ranges);
            const totalInterpretation = findRange(scores.total, interpretations.total.ranges);

            return {
                erectile: erectileInterpretation,
                total: totalInterpretation,
                details: {
                    orgasmic: scores.orgasmic >= 7 ? "Funci√≥n org√°smica adecuada" : "Posible disfunci√≥n org√°smica",
                    desire: scores.desire >= 7 ? "Deseo sexual adecuado" : "Posible bajo deseo sexual",
                    intercourse: scores.intercourse >= 10 ? "Satisfacci√≥n con relaciones adecuada" : "Posible insatisfacci√≥n con relaciones",
                    global: scores.global >= 7 ? "Satisfacci√≥n global adecuada" : "Posible insatisfacci√≥n global"
                }
            };
        }

        function showResults() {
            const scores = calculateScore();
            const interpretation = getInterpretation(scores);

            // Actualizar puntuaciones
            document.getElementById('erectile-score').textContent = `${scores.erectile}/30`;
            document.getElementById('orgasmic-score').textContent = `${scores.orgasmic}/10`;
            document.getElementById('desire-score').textContent = `${scores.desire}/10`;
            document.getElementById('intercourse-score').textContent = `${scores.intercourse}/15`;
            document.getElementById('global-score').textContent = `${scores.global}/10`;
            document.getElementById('total-score').textContent = `${scores.total}/75`;

            // Generar interpretaci√≥n
            const interpretationDiv = document.getElementById('interpretation');
            interpretationDiv.className = `interpretation severity-${interpretation.total.severity}`;
            interpretationDiv.innerHTML = `
                <h3 style="color: #29A98C; margin-bottom: 15px;">Interpretaci√≥n Cl√≠nica</h3>
                <div style="margin-bottom: 20px;">
                    <strong>Funci√≥n Er√©ctil:</strong> ${interpretation.erectile.level} (${scores.erectile}/30)
                </div>
                <div style="margin-bottom: 20px;">
                    <strong>Evaluaci√≥n Global:</strong> ${interpretation.total.level} (${scores.total}/75)
                </div>
                <div style="margin-bottom: 15px;"><strong>Dominios Evaluados:</strong></div>
                <ul style="margin-left: 20px; line-height: 1.6;">
                    <li><strong>Funci√≥n Org√°smica:</strong> ${interpretation.details.orgasmic} (${scores.orgasmic}/10)</li>
                    <li><strong>Deseo Sexual:</strong> ${interpretation.details.desire} (${scores.desire}/10)</li>
                    <li><strong>Satisfacci√≥n con Relaciones:</strong> ${interpretation.details.intercourse} (${scores.intercourse}/15)</li>
                    <li><strong>Satisfacci√≥n Global:</strong> ${interpretation.details.global} (${scores.global}/10)</li>
                </ul>
                <div style="margin-top: 20px; padding: 15px; background: rgba(41, 169, 140, 0.1); border-radius: 8px;">
                    <strong>Consideraciones Cl√≠nicas:</strong> 
                    Este cuestionario es una herramienta de evaluaci√≥n que debe interpretarse en el contexto cl√≠nico completo del paciente, incluyendo historia m√©dica, examen f√≠sico y factores psicosociales. Se recomienda evaluaci√≥n adicional si est√° indicada.
                </div>
            `;

            // Verificar alertas
            checkAlerts(scores);

            currentCard = 'results';
            updateUI();
        }

        function checkAlerts(scores) {
            const alerts = [];
            const maxScores = { erectile: 30, orgasmic: 10, desire: 10, intercourse: 15, global: 10 };

            Object.keys(maxScores).forEach(domain => {
                const percentage = (scores[domain] / maxScores[domain]) * 100;
                if (percentage >= 66) {
                    alerts.push(`Puntuaci√≥n alta en ${domain}: ${scores[domain]}/${maxScores[domain]} (${percentage.toFixed(1)}%)`);
                }
            });

            // Alertas espec√≠ficas
            if (scores.erectile <= 10) {
                alerts.push("Disfunci√≥n er√©ctil severa detectada - considerar evaluaci√≥n urol√≥gica integral");
            }
            if (scores.desire <= 4) {
                alerts.push("Deseo sexual muy bajo - considerar evaluaci√≥n endocrinol√≥gica y psicol√≥gica");
            }
            if (scores.total <= 21) {
                alerts.push("Disfunci√≥n sexual severa global - requiere evaluaci√≥n multidisciplinaria");
            }

            if (alerts.length > 0) {
                document.getElementById('alerts-section').style.display = 'block';
                document.getElementById('alerts-content').innerHTML = 
                    alerts.map(alert => `<div class="alert-item">${alert}</div>`).join('');
            }
        }

        function exportToPDF() {
            // Ocultar botones durante la impresi√≥n
            const buttonsContainer = document.querySelector('.buttons-container');
            const backButton = document.getElementById('backButton');
            const progressBar = document.getElementById('progressBar');
            
            buttonsContainer.style.display = 'none';
            backButton.style.display = 'none';
            progressBar.style.display = 'none';
            
            // Crear contenido para PDF
            const printContent = document.getElementById('card-results').cloneNode(true);
            const printWindow = window.open('', '', 'height=600,width=800');
            
            printWindow.document.write(`
                <html>
                    <head>
                        <title>Resultados IIEF-15</title>
                        <style>
                            body { font-family: Arial, sans-serif; margin: 20px; }
                            .domain-result { margin: 10px 0; padding: 10px; border: 1px solid #ccc; }
                            .domain-title { font-weight: bold; }
                            .domain-score { font-size: 18px; color: #29A98C; }
                            .interpretation { margin: 15px 0; padding: 15px; border: 2px solid #29A98C; }
                            .alert-item { margin: 5px 0; padding: 10px; background: #ffe6e6; border: 1px solid #ff9999; }
                            .buttons-container { display: none !important; }
                            h1 { color: #29A98C; }
                        </style>
                    </head>
                    <body>
                        ${printContent.innerHTML}
                    </body>
                </html>
            `);
            
            printWindow.document.close();
            
            setTimeout(() => {
                printWindow.print();
                printWindow.close();
                
                // Restaurar elementos
                buttonsContainer.style.display = 'flex';
                backButton.style.display = 'block';
                progressBar.style.display = 'block';
            }, 500);
        }

        function captureResults() {
            // Copiar resultados al portapapeles
            const scores = calculateScore();
            const interpretation = getInterpretation(scores);
            
            const resultsText = `
RESULTADOS IIEF-15
==================

PUNTUACIONES POR DOMINIO:
‚Ä¢ Funci√≥n Er√©ctil: ${scores.erectile}/30
‚Ä¢ Funci√≥n Org√°smica: ${scores.orgasmic}/10  
‚Ä¢ Deseo Sexual: ${scores.desire}/10
‚Ä¢ Satisfacci√≥n Relaci√≥n Sexual: ${scores.intercourse}/15
‚Ä¢ Satisfacci√≥n Global: ${scores.global}/10
‚Ä¢ PUNTUACI√ìN TOTAL: ${scores.total}/75

INTERPRETACI√ìN CL√çNICA:
‚Ä¢ Funci√≥n Er√©ctil: ${interpretation.erectile.level}
‚Ä¢ Evaluaci√≥n Global: ${interpretation.total.level}

DOMINIOS EVALUADOS:
‚Ä¢ Funci√≥n Org√°smica: ${interpretation.details.orgasmic}
‚Ä¢ Deseo Sexual: ${interpretation.details.desire}
‚Ä¢ Satisfacci√≥n con Relaciones: ${interpretation.details.intercourse}
‚Ä¢ Satisfacci√≥n Global: ${interpretation.details.global}

Fecha: ${new Date().toLocaleDateString()}
            `;

            if (navigator.clipboard) {
                navigator.clipboard.writeText(resultsText).then(() => {
                    alert('‚úÖ Resultados copiados al portapapeles exitosamente.\n\nPuede pegarlos en cualquier documento o aplicaci√≥n.');
                }).catch(() => {
                    showTextModal(resultsText);
                });
            } else {
                showTextModal(resultsText);
            }
        }

        function showTextModal(text) {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed; top: 0; left: 0; right: 0; bottom: 0;
                background: rgba(0,0,0,0.8); z-index: 10000;
                display: flex; align-items: center; justify-content: center;
            `;
            
            const content = document.createElement('div');
            content.style.cssText = `
                background: white; padding: 30px; border-radius: 15px;
                max-width: 80%; max-height: 80%; overflow: auto;
                position: relative;
            `;
            
            content.innerHTML = `
                <h3 style="margin-top: 0; color: #29A98C;">Resultados IIEF-15</h3>
                <textarea readonly style="width: 100%; height: 400px; font-family: monospace; border: 1px solid #ccc; padding: 10px;">${text}</textarea>
                <div style="margin-top: 15px; text-align: center;">
                    <button onclick="document.body.removeChild(this.closest('div').parentElement)" 
                            style="background: #29A98C; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">
                        Cerrar
                    </button>
                    <p style="margin-top: 10px; font-size: 14px; color: #666;">
                        Seleccione todo el texto (Ctrl+A) y c√≥pielo (Ctrl+C)
                    </p>
                </div>
            `;
            
            modal.appendChild(content);
            document.body.appendChild(modal);
        }

        function newEvaluation() {
            if (confirm('¬øEst√° seguro de que desea iniciar una nueva evaluaci√≥n? Se perder√°n los datos actuales.')) {
                // Reiniciar variables
                currentCard = 0;
                responses = {};
                
                // Limpiar todas las selecciones visuales
                document.querySelectorAll('.option.selected').forEach(option => {
                    option.classList.remove('selected');
                });
                
                // Limpiar contenido de resultados
                document.getElementById('erectile-score').textContent = '--/30';
                document.getElementById('orgasmic-score').textContent = '--/10';
                document.getElementById('desire-score').textContent = '--/10';
                document.getElementById('intercourse-score').textContent = '--/15';
                document.getElementById('global-score').textContent = '--/10';
                document.getElementById('total-score').textContent = '--/75';
                
                // Ocultar secci√≥n de alertas
                document.getElementById('alerts-section').style.display = 'none';
                
                // Limpiar interpretaci√≥n
                document.getElementById('interpretation').innerHTML = '';
                
                // Volver al inicio
                updateUI();
                
                // Mostrar confirmaci√≥n
                setTimeout(() => {
                    alert('‚úÖ Nueva evaluaci√≥n iniciada correctamente.');
                }, 100);
            }
        }

        // Inicializar
        updateUI();
    </script>
</body>
</html>